@model Philocivil.ViewModels.GameViewModel
@{
    ViewData["Title"] = "Battle";

    int health = Model.GameSession.enemyHealth; // Get health from model
    int maxHealth = 15; // Define max health
    int healthPercentage = (int)((health / (double)maxHealth) * 100); // Convert to percentage
}

<link rel="stylesheet" href="~/css/styles.css" />

<body style="background-color: lightblue; background-image: url('/Images/Background.png'); background-size: cover; background-position: center;">
    
    <div class="combat-container">
        <div class="combat-content">
            <div class="health-container">
                <p>Enemy Health: @health / @maxHealth</p>
                <div class="health-bar-container">
                    <div class="health-bar" style="width: @healthPercentage%;"></div>
                </div>
            </div>

            <div class="enemy-box">
                <img src="@Model.Path" alt="Enemy" class="enemy-image" />
            </div>

            <div class="form-container">
                <form method="post" asp-action="Turn">
                    <p>@Model.GameSession.Question</p>
                    @if(Model.GameSession.GameState)
                    {
                        <p>@Model.GameSession.Feedback</p>
                        <p>@Model.GameSession.AnswerGiven</p>
                        <input type="submit" value="Next" />
                    } 
                    else
                    {
                        <label for="Prompt">Answer:</label>
                        <input type="text" id="Prompt" asp-for="GameSession.AnswerGiven" />
                        <input type="submit" value="Answer" />
                    }
                </form>
            </div>
        </div>
    </div>
</body>
